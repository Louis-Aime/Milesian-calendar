<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<title>pldr DOM from XML</title>
<!-- Version M2021-01-11 rewrite in a more general case
	Version M2020-12-12 Add MilesianAlertMsg
	Version M2019-07-27 
	Version M2020-04-12 simplify !DOCTYPE
	Version M2020-04-16 normalize <meta>
-->
	<meta name="creator" content="Louis-Aimé de Fouquières">
	<meta name="description" content="HTML basic code to insert as a widget or somewhere in the application
on an always-used page or any page that wants to use XML external data.UPDATE URI IN LAST SCRIPT.
If installed on a separate domain, this domain's server should allow external GET access">
	<meta name="keywords" content="DOM, XML">
	<meta name="viewport" content="width=device-width">

	<link href="dialsandpanels.css" rel="stylesheet"/>

	<script type="text/javascript" src="chronos.js"></script>
	<script type="text/javascript" src="dateextended.js"></script>
	<script type="text/javascript" src="calendars.js"></script>
	<script type="text/javascript" src="domxmlload.js"></script>

<!--
	<script type="text/javascript">
	var
		milesianFramework = {	// Embedding object. Change "pldrLoaded" function as required.
			calendar : {},
			pldrLoaded : function () {
				milesianFramework.calendar = new MilesianCalendar("milesian", this.responseXML); // here 'this' represents the request (fetcher)
				document.getElementById("mdate").innerHTML = new ExtDateTimeFormat(undefined,{year:"numeric", month: "long", day:"numeric"},milesianFramework.calendar).format(new  Date());
				// console.log ("Milesian calendar initialised")
				},
			fetcher : new XMLHttpRequest()
			}
	milesianFramework.fetcher.addEventListener ("load", milesianFramework.pldrLoaded);
	milesianFramework.fetcher.open("GET", "./pldr.xml");
	milesianFramework.fetcher.send();
	</script>
-->
	<script type="text/javascript">
	var
		milesianFramework = {	// Embedding object. Change "pldrLoaded" function as required.
		calendar : {},
		pldrLoaded : function (DOM) {
			milesianFramework.calendar = new MilesianCalendar("milesian", DOM); // here 'this' represents the request (fetcher)
			document.getElementById("mdate").innerHTML = new ExtDateTimeFormat(undefined,{year:"numeric", month: "long", day:"numeric"},milesianFramework.calendar).format(new  Date());
			// console.log ("Milesian calendar initialised")
			},
		},
		fetcher = new DOMFromXML(milesianFramework.pldrLoaded, "./pldr.xml") // the fetcher function must be outside the "milesianFramework" definition.
		
	</script>

</head>
<body>
	<section class="centered"><h1>Chargement de pldr puis impression</h1>
		<p id="mdate", class="centered">
		</p>
	</section>
</body>
</html>