<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="milesian.css" charset="utf-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
	"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<!-- Solar Year Milesian Clock -->
<!-- Scalable viewbox, centered in the middle -->
<svg id="clock" width="100%" height="100%" xml:lang="fr" onload="JavaScript:setLightClockTicks()"
viewBox="-300 -300 600 600" preserveAspectRatio="xMidYMid meet"
xmlns="http://www.w3.org/2000/svg" 
xmlns:xlink="http://www.w3.org/1999/xlink">

<title>Horloge mil√©sienne</title>
<script type="text/javascript" href="CBCCE.js"></script>
<script type="text/javascript" href="RealTZmsOffset.js"></script>
<script type="text/javascript" href="MilesianDateProperties.js"></script>
<script type="text/javascript" href="MilesianClockOperations.js"></script>
<script type="text/javascript">
var timeOutId1;					// Tick generator identifier
function setLightClockToNow() {	// Set clock to present date and time
    let targetDate = new Date(); // targeDate is today and now.
	let theClock = window.document.querySelector("#clock1"); 	// This object is the clock below. Do not call before clock loaded.
	setMilesianCalendarClockHands (theClock, targetDate.getMilesianDate().year, targetDate.getMilesianDate().month, targetDate.getMilesianDate().date,
		targetDate.getHours(), targetDate.getMinutes(), targetDate.getSeconds() ); 
}
function setLightClockTicks() { // To be inserted on load of light clock
	setLightClockToNow();		// Initial setting
	timeOutId1 = window.setInterval(setLightClockToNow , 20000);	// Update every 20 s	
}
</script>

<g id="clock1">
<!-- the dial -->
<image href="Cadran_milesien_600.png" x="-300" y ="-300" width="600" height="599"/>
<!-- the motto on the dial -->
<text class="motto" x="0" y="36" >CERTUM MONSTRAT DIEM</text>
<!-- main dial: month, day; the rect enables to fetch the center of the dial -->
<rect class="center month day" x="0" y="0" width="0" height="0"/>
<!-- the year field -->
  <text class="clock yeardisplay"
	x="0" y="+100"></text>
<!-- center circle -->
<circle class="clockhand" r="9" />
<!-- set the secondary time dial which sould appear under the month-day hands -->
<!-- Hour clock centered at x=0, y=-80 -->
  <g class="timeDial"> <!-- set a container for the time dial -->
	<circle cx="0" cy="-80" r="60" fill="none" stroke="black" />
	<rect class="center hour minute second" x="0" y="-80" width="0" height="0"/> <!-- center of the time dial -->
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(30,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(60,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(90,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(120,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(150,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(180,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(210,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(240,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(270,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(300,0,-80)"/>
	<line x1="0" x2="0" y1="-133" y2="-140" stroke="black" stroke-width="6px" transform="rotate(330,0,-80)"/>
  </g>
<!-- am/pm indicator -->
  <text class="clock ampm" 
	x="0" y="-50">am</text>
<!-- hours and minutes hands -->
  <g class="clockhand hour" transform="rotate(0)">
    <line x1="0" x2="0" y1="-80" y2="-120" />
  </g>
  <g class="clockhand minute" transform="rotate(0)">
    <line x1="0" x2="0" y1="-80" y2="-135" />
  </g>
<!-- month and day hands are set at the end, in order to be above the rest of the clock -->
<!-- the month hand -->
  <g class="clockhand month" transform="rotate(0)"
  opacity="0.8">										
	<polygon points="0,0 12,-20 10,-135 0,-145 -10,-135 -12,-20" />
  </g>
<!-- the day hand -->
  <g class="clockhand day" transform="rotate(0)"
  opacity="0.8" >									
	<polygon points="0,0 11,-20 8,-190 0,-200 -8,-190 -11,-20" />
  </g>
</g>
</svg>